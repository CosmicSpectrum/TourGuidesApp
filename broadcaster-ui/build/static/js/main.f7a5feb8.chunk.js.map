{"version":3,"sources":["media/logonew.png","fonts/Assistant-VariableFont_wght.ttf","utils/peerConnection.js","pages/listenerSide/Listenter.jsx","utils/initiateSocket.js","pages/NotSupported/style.js","pages/NotSupported/NotSupported.jsx","components/globalStyles/styles.js","components/LoginForm/style.js","components/Button/ButtonComponent.jsx","network/authFunctions.js","context/appContext.jsx","components/LoginForm/LoginForm.jsx","components/InsertCode/styles.js","components/InsertCode/InsertCode.jsx","pages/Login/Login.jsx","pages/ResetPassword/styles.js","components/ValidateOtp/styles.js","components/ValidateOtp/ValidateOtp.jsx","components/CreateNewPassword/CreateNewPassword.jsx","pages/ResetPassword/ResetPassword.jsx","components/Bar/style.js","components/Bar/Bar.jsx","pages/CreateRoom/styles.js","network/roomNetwork.js","pages/CreateRoom/CreateRoom.jsx","pages/adminRoom/style.js","utils/OpenStream.js","pages/adminRoom/adminRoom.jsx","pages/UserRoom/styles.js","pages/UserRoom/Room.jsx","App.js","utils/isMobile.js","index.js"],"names":["module","exports","__webpack_require__","p","myPeer","Peer","undefined","host","port","secure","socket","io","Listener","_ref","roomId","audioRef","useRef","useEffect","on","userId","emit","call","answer","stream","console","log","current","srcObject","react_default","a","createElement","Fragment","ref","onClick","play","pause","reconnection","NotSupportedWrapper","styled","div","display","flexDirection","alignItems","marginTop","NotSupportedTitle","fontSize","textAlign","direction","NotSupported","BrowserNotSupported","sx","Title","color","marginBottom","Card","_ref2","width","height","boxShadow","borderRadius","Label","_ref3","textDecoration","Paragraph","_ref4","textColor","marginRight","inputDesign","LoginWrapper","InputWrappers","ButtonComponent","_ref$isLoading","isLoading","_ref$title","title","Button","padding","concat","variant","disabled","CircularProgress","size","AuthNetwork","roomCode","axios","get","Object","classPrivateFieldLooseBase","this","_baseUrl","then","res","data","room","catch","err","username","password","post","token","email","insertedEmail","status","otp","validate","newPassword","patch","headers","x-otp-post-validation","authToken","Cookie","x-auth-token","user","MainContext","createContext","ContextProvider","children","_useState","useState","_useState2","slicedToArray","setToken","_useState3","_useState4","setUser","_useState5","_useState6","setRoomCode","_useState7","_useState8","value","setRoom","getUser","logout","remove","Provider","useMainContext","context","React","useContext","Error","Alert","forwardRef","props","Alert_Alert","assign","elevation","LoginForm","setIsLoading","isErrorUsername","setUsernameError","isErrorPassword","setPasswordError","isEmailError","setEmailError","_useState9","_useState10","snackBarMessage","setMessage","_useState11","_useState12","toggleResetPassword","setResetPassword","_useState13","_useState14","open","setOpen","_useState15","_useState16","isSuccessfulRequest","setSuccesseful","Navigate","useNavigate","emailRef","usernameRef","passwordRef","handleClose","validateEmail","test","TextField","id","autoComplete","label","inputRef","error","helperText","type","objectSpread","length","login","response","set","expires","requestPasswordChange","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","LoginForm_Alert","severity","CodeWrapper","InputWrapper","InsertCode","isError","setIsError","roomCodeRef","getRoom","InsertCode_Alert","Login","CardWrapper","FormWrapper","OtpWrapper","ValidateOtp","setValidateOtp","otpError","setError","message","URLSearchParams","window","location","search","otpRef","validateOtp","isValidated","sessionStorage","setItem","ValidateOtp_Alert","CreateNewPassword","setMessagae","firstError","setFirstError","secondError","setSecondError","getItem","firstPasswordRef","secondPasswordRef","comparePasswords","validateEmptyFileds","lenght","updatePassword","removeItem","CreateNewPassword_Alert","ResetPassword","otpValidated","setOtpValidated","BarWrapper","backgroundColor","position","LogoutCenterWrapper","margin","top","right","transform","left","LogoWrapper","justifyContent","Image","img","Bar","objectDestructuringEmpty","_useMainContext","src","imageSrc","PageWrapper","ButtonWrapper","FetchingWrapper","RoomNetwork","tourDescription","roomNetwork_baseUrl","delete","CreateRoom","fetching","setFecthing","descriptionRef","getRoomByCreator","Now","Date","getHours","dayTime","fullname","styles_InputWrapper","multiline","maxRows","rows","createRoom","CreateRoom_Alert","AdminRoomWrapper","MicButtonWrappers","EndButtonWrapper","_callee","_regeneratorRuntime","wrap","_context","prev","next","abrupt","navigator","mediaDevices","getUserMedia","video","audio","stop","AdminRoom","Stream","setStream","setUserId","useParams","listAllPeers","peers","filterPeerArray","map","peer","filter","openMic","getAudioTracks","enabled","_StartStream","apply","arguments","StartStream","confirmEndTour","Swal","fire","icon","text","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","showCancelButton","reverseButtons","result","isConfirmed","deleteRoom","getTracks","forEach","track","RoomWrapper","StreamAudio","DescriptionWrapper","overflowY","maxHeight","Room","streamRef","getRoomByRoomCode","roomEnded","styles_MicButtonWrappers","styles_EndButtonWrapper","theme","createTheme","cacheRtl","createCache","key","stylisPlugins","prefixer","rtlPlugin","App","navigation","userAgent","match","useLayoutEffect","document","body","setAttribute","emotion_element_cbed451f_browser_esm","ThemeProvider","react_router","path","element","to","replace","ReactDOM","createRoot","getElementById","render","StrictMode","appContext_ContextProvider","react_router_dom","className","src_App"],"mappings":"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","file":"static/js/main.f7a5feb8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logonew.eb02e34a.png\";","module.exports = __webpack_public_path__ + \"static/media/Assistant-VariableFont_wght.922abef4.ttf\";","import Peer from 'peerjs';\nexport const myPeer = new Peer(undefined,{\n    host: 'peerjs-listen-on-the-way.herokuapp.com',\n    port: 443,\n    secure: true\n});\n","import React, {useEffect, useState, useRef} from \"react\"; \nimport { myPeer } from \"../../utils/peerConnection\";\nimport io from 'socket.io-client'\nconst socket = io('http://localhost:3001');\n\n\nexport default function Listener({roomId}){\n    const audioRef = useRef();\n    \n    useEffect(()=>{\n        myPeer.on(\"open\", userId=>{\n            socket.emit('join-room', roomId, userId)\n        });\n\n        myPeer.on(\"call\", call => {\n            call.answer();\n            call.on('stream', stream => {\n                console.log(stream);\n                audioRef.current.srcObject = stream;\n            })\n        })\n    \n    }, [myPeer])\n\n    return(<>\n    <audio ref={audioRef}></audio>\n    <button onClick={()=>{audioRef.current.play();}}>לחץ כדי להאזין</button>\n    <button onClick={()=>{audioRef.current.pause();}}>שקט עולם</button>\n    </>)\n}","import io from 'socket.io-client';\n\nexport const socket = io('/', {reconnection: true});","import styled from \"styled-components\";\n\nexport const NotSupportedWrapper = styled.div({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    marginTop: \"40vmin\"\n});\n\nexport const NotSupportedTitle = styled.p({\n    fontSize: \"3vmin\",\n    textAlign: 'center',\n    direction: 'rtl'\n})","import React from \"react\";\nimport {BrowserNotSupported} from \"@mui/icons-material\"\nimport {NotSupportedWrapper, NotSupportedTitle} from './style';\n\nexport default function NotSupported(){\n    return(\n        <NotSupportedWrapper>\n            <BrowserNotSupported sx={{fontSize: \"10vmin\"}} />\n            <NotSupportedTitle>\n                שימו לב, האפליקציה מותאמת למובייל בלבד!\n            </NotSupportedTitle>\n        </NotSupportedWrapper>\n    )\n}","import styled from \"styled-components\";\n\nexport const Title = styled.p(({fontSize,marginBottom})=>({\n    fontSize,\n    textAlign: \"center\",\n    color: \"#2e7d32\",\n    marginBottom\n}))\n\nexport const Card = styled.div(({width, height})=>({\n    width,\n    height,\n    boxShadow: \"1px 2px 14px 4px rgba(0,0,0,0.30)\",\n    borderRadius: '1rem'\n}))\n\nexport const Label = styled.p(({marginTop})=>({\n    textDecoration: \"underline\",\n    color: \"#cacccf\",\n    marginTop\n}))\n\nexport const Paragraph = styled.p(({fontSize,textAlign,textColor, marginTop, marginRight,direction})=>({\n    fontSize,\n    color: !textColor ? '#2e7d32' : textColor,\n    textAlign,\n    marginTop,\n    marginRight,\n    direction\n}))\n\nexport const inputDesign = {\n    width: \"70%\",\n    marginBottom: \"2vmax\"\n}","import styled from \"styled-components\";\n\nexport const LoginWrapper = styled.div({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    marginTop: \"5%\"\n})\n\nexport const InputWrappers = styled.div({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    marginTop: \"-5%\"\n})\n","import React from \"react\";\nimport {Button, CircularProgress} from '@mui/material';\n\nexport default function ButtonComponent({isLoading = false, onClick, title = \"\", color}){\n    return (<Button \n        sx={{marginTop: \"7%\", padding: `1vmax ${isLoading ? \"4.7vmax\" : \"4vmax\"} 1vmax ${isLoading ? \"4.7vmax\" : \"4vmax\"}`}} \n        onClick={onClick} variant=\"contained\" \n        color={!color ? \"success\" : color} disabled={isLoading}>\n            {isLoading ? \n            <CircularProgress size={\"3.5vmax\"} color=\"success\" /> : title}\n        </Button>)\n}","import axios from 'axios';\nimport Cookie from 'js-cookie'\n\nexport default class AuthNetwork {\n    static #baseUrl = '/';\n\n    static getRoom(roomCode){\n        return axios.get(`${this.#baseUrl}rooms/getRoomByCode?roomCode=${roomCode}`).then(res=>{\n            if(res.data.room){\n                return res.data.room;\n            }else{\n                return null\n            }\n        }).catch(err=>{\n            throw null;\n        })\n    }\n\n    static login(username,password){\n        return axios.post(`${this.#baseUrl}auth/login`, {username,password}).then(res=>{\n            if(res.data.token){\n                return res.data;\n            }else{\n                return null;\n            }\n        }).catch(err=>{\n            throw null;\n        })\n    }\n\n    static requestPasswordChange(email){\n        return axios.post(`${this.#baseUrl}auth/passwordResetRequest`, {insertedEmail: email}).then(res=>{\n            if(res.data.status){\n                return true;\n            }else{\n                return null;\n            }\n        }).catch(err=>{\n            throw null;\n        })\n    }\n\n    static validateOtp(otp, email){\n        return axios.post(`${this.#baseUrl}auth/validateOtp`, {email,otp}).then(res=>{\n            if(res.data.validate){\n                return true;\n            }else{\n                return false;\n            }\n        }).catch(err=>{\n            return null;\n        })\n    }\n\n    static updatePassword(otp,email, newPassword){\n        return axios.patch(`${this.#baseUrl}auth/updatePassword`,\n        {email, newPassword}, {\n            headers: {'x-otp-post-validation': otp}}).then(res=>{\n                if(res.data.status){\n                    return {status: true, token: res.data.token};\n                }else{\n                    return false;\n                }\n            }).catch(err=>{\n                return null;\n            })\n    }\n\n    static getUser(){\n        const authToken = Cookie.get(\"auth-token\");\n        return axios.get(`${this.#baseUrl}auth/getUser`,\n        {headers: {\"x-auth-token\": authToken}}).then((res)=>{\n            return res.data.user;\n        }).catch(err=>{\n            return null;\n        })\n    }\n}","import React, {useState, createContext} from 'react';\nimport {socket} from '../utils/initiateSocket';\nimport Cookie from 'js-cookie';\nimport AuthNetwork from '../network/authFunctions';\n\nconst MainContext = createContext();\n\nconst ContextProvider = ({children})=>{\n    const [token, setToken] = useState(Cookie.get(\"auth-token\"));\n    const [user, setUser] = useState(null);\n    const [roomCode, setRoomCode] = useState('');\n    const [room, setRoom] = useState(null);\n\n    const getUser = ()=>{\n        AuthNetwork.getUser().then((user)=>{\n            setUser(user);\n        }).catch(err=>{\n            console.log(err);\n            setUser(null);\n        });\n    }\n\n    const logout = ()=>{\n        Cookie.remove('auth-token');\n        setUser(null);\n    }\n\n\n    const value = {token,setToken,roomCode,setRoomCode,room, setRoom, socket, user, getUser, setUser,logout};\n    return <MainContext.Provider value={value}>{children}</MainContext.Provider>\n}\n\nconst useMainContext = () => {\n    const context = React.useContext(MainContext);\n    if(context === undefined){\n        throw new Error('useContext must be used in context provider');\n    }\n    return context;\n}\n\n\nexport {useMainContext,ContextProvider};","import React, {useState,useRef, useEffect} from \"react\";\nimport {Title, Card, Label, inputDesign, Paragraph} from '../globalStyles/styles';\nimport { LoginWrapper,InputWrappers } from \"./style\";\nimport TextField from '@mui/material/TextField';\nimport ButtonComponent from \"../Button/ButtonComponent\";\nimport AuthNetwork from \"../../network/authFunctions\";\nimport Cookie from 'js-cookie';\nimport { useNavigate } from \"react-router-dom\";\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert from '@mui/material/Alert';\nimport { useMainContext } from \"../../context/appContext\";\n\n\nconst Alert = React.forwardRef(function Alert(props, ref) {\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nexport default function LoginForm(){\n    const [isLoading, setIsLoading] = useState(false);\n    const [isErrorUsername, setUsernameError] = useState(false);\n    const [isErrorPassword, setPasswordError] = useState(false);\n    const [isEmailError, setEmailError] = useState(false);\n    const [snackBarMessage, setMessage] = useState('')\n    const [toggleResetPassword, setResetPassword] = useState(true);\n    const [open, setOpen] = useState(false);\n    const [isSuccessfulRequest, setSuccesseful] = useState(false);\n    const Navigate = useNavigate();\n    const emailRef = useRef();\n    const usernameRef = useRef();\n    const passwordRef = useRef();\n    const {setUser} = useMainContext();\n\n    useEffect(()=>{\n        if(toggleResetPassword){\n            passwordRef.current.value = null;\n        }else{\n            emailRef.current.value = null;\n        }\n    },[toggleResetPassword])\n\n    const login = ()=>{\n        if(usernameRef.current.value.length !== 0 && passwordRef.current.value.length !== 0 ){\n            setIsLoading(true);\n            AuthNetwork.login(usernameRef.current.value,passwordRef.current.value).then(response=>{\n                if(response){\n                    Cookie.set('auth-token', response.token,{expires: 1});\n                    setUser(response.user);\n                    Navigate('/createRoom');\n                }else{\n                    setMessage('שם משתמש או סיסמה אינם נכונים.');\n                    setOpen(true);\n                    setIsLoading(false);\n                }\n            }).catch(err=>{\n                setIsLoading(false);\n                setMessage(\"קרתה תקלה אצלנו, נסו להתחבר שנית מאוחר יותר.\");\n                setOpen(true);\n            })\n        }\n        setPasswordError(passwordRef.current.value.length === 0);\n        setUsernameError(usernameRef.current.value.length === 0);\n    }\n\n    const resetPasswordRequest = ()=>{\n        if(emailRef.current.value.length !== 0 && validateEmail(emailRef.current.value)){\n            setIsLoading(true);\n            AuthNetwork.requestPasswordChange(emailRef.current.value).then(status=>{\n                if(status){\n                    setOpen(true);\n                    setIsLoading(false);\n                    setMessage(\"נשלח מייל לאיפוס הסיסמה למייל אותו הזנתם.\");\n                    setSuccesseful(true);\n                }else{\n                    setOpen(true);\n                    setIsLoading(false);\n                    setMessage(\"המייל שהזנתם לא שייך לאף משתמש רשום, בדקו את האיות ונסו שנית.\");\n                }\n            }).catch(err=>{\n                setOpen(true);\n                setIsLoading(false)\n                setMessage(\"קרתה תקלה אצלנו, נסו להתחבר שנית מאוחר יותר.\");\n            })\n        }\n        setEmailError(emailRef.current.value.length === 0 || !validateEmail(emailRef.current.value))\n    }\n\n    const handleClose = ()=>{\n        setOpen(false);\n\n        if(isSuccessfulRequest){\n            setSuccesseful(false);\n        }\n    }\n\n    const validateEmail = (email)=>{\n        const regex = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n\n        if(!regex.test(email)){\n            return false;\n        }\n        return true;\n    }\n\n    return (\n        <LoginWrapper>\n            <Card height=\"45vmax\" width=\"95%\">\n            {toggleResetPassword ? <InputWrappers>\n                    <Title fontSize={\"4vmax\"} marginBottom={'0'}>\n                        כניסת מורי דרך\n                    </Title>\n                    <TextField \n                        id=\"username\" \n                        sx={inputDesign} \n                        color=\"success\" \n                        autoComplete={\"off\"} \n                        label=\"שם משתמש\" \n                        variant=\"standard\" \n                        inputRef={usernameRef}\n                        error={isErrorUsername}\n                        helperText={isErrorUsername ? 'יש למלא את השדה' : ''}\n                    />\n                    <TextField \n                        type={\"password\"} \n                        id=\"password\" \n                        sx={{...inputDesign, marginBottom: \"0\"}} \n                        color=\"success\" \n                        autoComplete={\"off\"} \n                        label=\"סיסמה\" \n                        variant=\"standard\" \n                        inputRef={passwordRef}\n                        error={isErrorPassword}\n                        helperText={isErrorPassword ? 'יש למלא את השדה' : ''}\n                    />\n                    <ButtonComponent \n                        title=\"התחבר\" \n                        isLoading={isLoading}\n                        onClick={()=>{login()}}\n                    />\n                    <Label marginTop={\"3%\"} onClick={()=>{setResetPassword(!toggleResetPassword)}}>\n                        שכחת סיסמה?\n                    </Label>\n                </InputWrappers> : \n                <InputWrappers>\n                    <Title fontSize={\"4vmax\"}>\n                        איפוס סיסמה\n                    </Title>\n                    <Paragraph fontSize={'1.7vmax'}>\n                        הכנס את המייל שאיתו נרשמת למערכת:\n                    </Paragraph>\n                    <TextField \n                        id=\"email\" \n                        type={\"email\"}\n                        sx={inputDesign} \n                        color=\"success\" \n                        autoComplete={\"off\"} \n                        label=\"הכנס כתובת אימייל\" \n                        variant=\"standard\" \n                        inputRef={emailRef}\n                        helperText={isEmailError && 'הכנס כתובת מייל תקינה'}\n                        error={isEmailError}\n                    />\n                    <ButtonComponent \n                        title=\"אפס סיסמה\" \n                        isLoading={isLoading} \n                        onClick={()=>{resetPasswordRequest();}}\n                    />\n                    <Label marginTop={\"5%\"} onClick={()=>{setResetPassword(!toggleResetPassword)}}>\n                        חזור להתחברות\n                    </Label>\n                </InputWrappers>\n                }\n            </Card>\n            <Snackbar anchorOrigin={{vertical: 'top', horizontal: 'center'}} open={open} autoHideDuration={4000} onClose={handleClose}>\n                <Alert onClose={handleClose} severity={isSuccessfulRequest ? 'success' : 'error'} sx={{ width: '100%' }}>\n                    {snackBarMessage}\n                 </Alert>\n            </Snackbar> \n        </LoginWrapper>\n    )\n}","import styled from \"styled-components\";\n\n\nexport const CodeWrapper = styled.div({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    marginTop: \"7%\"\n})\n\nexport const InputWrapper = styled.div({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    marginTop: \"-5%\"\n})","import React, {useState, useRef} from \"react\";\nimport {Card, Title, Paragraph, inputDesign} from '../globalStyles/styles'\nimport {CodeWrapper, InputWrapper} from './styles'\nimport { TextField } from \"@mui/material\";\nimport ButtonComponent from \"../Button/ButtonComponent\";\nimport AuthNetwork from \"../../network/authFunctions\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useMainContext } from \"../../context/appContext\";\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert from '@mui/material/Alert';\n\nconst Alert = React.forwardRef(function Alert(props, ref) {\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nexport default function InsertCode(){\n    const [isLoading, setIsLoading] = useState(false);\n    const [isError, setIsError] = useState(false);\n    const [open, setOpen] = useState(false);\n    const {setRoom} = useMainContext();\n    const Navigate = useNavigate();\n    const roomCodeRef = useRef();\n\n    const getRoom = ()=>{\n        if(roomCodeRef.current.value.length > 0){\n            setIsError(false);\n            setIsLoading(true);\n            AuthNetwork.getRoom(roomCodeRef.current.value).then(room=>{\n                if(room){\n                    setRoom(room);\n                    Navigate(`/room/${room.roomCode}`);\n                }else{\n                    setOpen(true);\n                    setIsLoading(false)\n                }\n            })\n        }else{\n            setIsLoading(false);\n            setIsError(true);\n        }\n    }\n\n    const handleClose = ()=>{\n        setOpen(false);\n    }\n\n    return(\n        <CodeWrapper>\n            <Card height=\"37vmax\" width={\"95%\"}>\n                <Title fontSize={\"4vmax\"}>\n                    כניסת מטיילים\n                </Title>\n                <InputWrapper>\n                    <Paragraph fontSize={\"1.7vmax\"} textAlign=\"center\">\n                        מצטרפים לסיור? הכניסו את קוד החדר שקיבלתם מהמדריך כאן:\n                    </Paragraph>\n                    <TextField \n                        id=\"roomCode\"\n                        label=\"הכנס קוד חדר\"\n                        color=\"success\"\n                        autoComplete=\"off\"\n                        variant=\"standard\"\n                        sx={{...inputDesign, marginBottom: \"0\"}}\n                        inputRef={roomCodeRef}\n                        error={isError}\n                        helperText={isError ? 'יש למלא את השדה' : ''}\n                    />\n                    <ButtonComponent \n                        isLoading={isLoading} \n                        title=\"הכנס לחדר\"\n                        onClick={()=>{getRoom()}}\n                    />\n                </InputWrapper>\n            </Card>\n            <Snackbar anchorOrigin={{vertical: 'top', horizontal: 'center'}} open={open} autoHideDuration={4000} onClose={handleClose}>\n                <Alert onClose={handleClose} severity=\"error\" sx={{ width: '100%' }}>\n                    לא הצלחנו למצוא את החדר שאתם מבקשים.. נסו לבדוק את הקוד שהזנתם ולנסות שוב.\n                 </Alert>\n            </Snackbar> \n        </CodeWrapper>\n    )\n}","import React from \"react\";\nimport LoginForm from \"../../components/LoginForm/LoginForm\";\nimport InsertCode from \"../../components/InsertCode/InsertCode\";\n\nexport default function Login(){\n    return (\n        <>\n            <LoginForm />\n            <InsertCode />\n        </>\n    )\n}","import styled from \"styled-components\";\n\nexport const CardWrapper = styled.div({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    marginTop: \"10%\"\n})\n\nexport const FormWrapper = styled.div(({marginTop}) => ({\n    marginTop\n}))","import styled from \"styled-components\";\n\n\nexport const OtpWrapper = styled.div({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    marginTop: \"5%\"\n})","import React, {useState, useRef} from \"react\";\nimport {Title, Paragraph, inputDesign} from '../globalStyles/styles';\nimport { TextField } from \"@mui/material\";\nimport ButtonComponent from \"../Button/ButtonComponent\";\nimport {OtpWrapper} from './styles';\nimport AuthNetwork from \"../../network/authFunctions\";\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert from '@mui/material/Alert';\n\nconst Alert = React.forwardRef(function Alert(props, ref) {\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nexport default function ValidateOtp({setValidateOtp}){\n    const [isLoading, setIsLoading] = useState(false);\n    const [otpError, setError] = useState(false);\n    const [message, setMessage] = useState(\"\");\n    const [open, setOpen] = useState(false);\n    const [email, setEmail] = useState(new URLSearchParams(window.location.search).get('email'));\n    const otpRef = useRef();\n\n    const handleValidation = ()=>{\n        if(otpRef.current.value.length !== 0){\n            setIsLoading(true)\n            AuthNetwork.validateOtp(otpRef.current.value,email).then(isValidated=>{\n                if(isValidated){\n                    sessionStorage.setItem('otp', otpRef.current.value);\n                    setValidateOtp(true);\n                }else{\n                    setOpen(true);\n                    setIsLoading(false);\n                    setMessage(\"הקוד שהוכנס איננו תקין. בדקו את הקוד ונסו שנית\");\n                }\n            }).catch(err=>{\n                setOpen(true);\n                setIsLoading(false);\n                setMessage('אופס.. קרתה תקלה אצלנו, נסו שנית מאוחר יותר');\n            })\n        }\n        setError(otpRef.current.value.length === 0)\n    }\n\n    const handleClose = ()=>{\n        setOpen(false);\n    }\n    \n\n    return (\n    <OtpWrapper>\n        <Title fontSize={'4vmax'}>\n            קוד אימות\n        </Title>\n        <Paragraph fontSize='1.7vmax'>\n            אנא הזן את קוד האימות שנשלח אליך במייל\n        </Paragraph>\n        <TextField \n            id=\"otp\"\n            label={\"הכנס קוד אימות\"}\n            sx={inputDesign}\n            autoComplete=\"off\"\n            variant=\"standard\"\n            color=\"success\"\n            inputRef={otpRef}\n            error={otpError}\n            helperText={otpError && \"יש למלא שדה זה\"}\n        />\n        <ButtonComponent  onClick={()=>{handleValidation()}} isLoading={isLoading} title=\"שלח\" />\n        <Snackbar anchorOrigin={{vertical: 'top', horizontal: 'center'}} open={open} autoHideDuration={4000} onClose={handleClose}>\n            <Alert onClose={handleClose} severity=\"error\" sx={{ width: '100%' }}>\n                {message}\n            </Alert>\n        </Snackbar> \n    </OtpWrapper>)\n}","import React,{useState, useRef} from \"react\";\nimport { TextField } from \"@mui/material\";\nimport ButtonComponent from \"../Button/ButtonComponent\";\nimport {Title, Paragraph} from '../globalStyles/styles';\nimport { OtpWrapper } from \"../ValidateOtp/styles\";\nimport { inputDesign } from \"../globalStyles/styles\";\nimport AuthNetwork from \"../../network/authFunctions\";\nimport Cookie from 'js-cookie';\nimport { useNavigate } from \"react-router-dom\";\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert from '@mui/material/Alert';\n\n\nconst Alert = React.forwardRef(function Alert(props, ref) {\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nexport default function CreateNewPassword(){\n    const [isLoading, setIsLoading] = useState(false);\n    const [message, setMessagae] = useState(\"\")\n    const [firstError,setFirstError]= useState(false);\n    const [secondError,setSecondError]= useState(false);\n    const [email, setEmail] = useState(new URLSearchParams(window.location.search).get('email'));\n    const [otp, setOtp] = useState(sessionStorage.getItem('otp'));\n    const [open, setOpen] = useState(false);\n    const firstPasswordRef = useRef();\n    const secondPasswordRef = useRef();\n    const Navigate = useNavigate();\n    \n\n    const updatePassword = ()=>{\n        if(comparePasswords() && validateEmptyFileds()){\n            setIsLoading(true);\n            AuthNetwork.updatePassword(otp,email, firstPasswordRef.current.value).then(res=>{\n                if(res.status){\n                    Cookie.set(\"auth-token\", res.token, {expires: 1});\n                    sessionStorage.removeItem('otp');\n                    Navigate('/createRoom');\n                }\n            }).catch(err=>{\n                setMessagae('אופס.. קרתה תקלה אצלנו, נסו שוב בעוד מספר דקות');\n                setOpen(true);\n                setIsLoading(false);\n            })\n        }\n        setFirstError(firstPasswordRef.current.value.length === 0)\n        setSecondError(secondPasswordRef.current.value.length === 0)\n    }\n\n    const comparePasswords = ()=>{\n        if(firstPasswordRef.current.value === secondPasswordRef.current.value){\n            return true;\n        }else{\n            setMessagae('שימו לב שהסיסמאות שהזנתם אינן תואמות');\n            setOpen(true);\n            return false;\n        }\n    }\n\n    const validateEmptyFileds = ()=>{\n        if(firstPasswordRef.current.value.lenght !== 0 && secondPasswordRef.current.value.lenght !== 0){\n            return true;\n        }else{\n            return false;\n        }\n    }\n\n    const handleClose = ()=>{\n        setOpen(false);\n    }\n\n\n    return (\n        <OtpWrapper>\n            <Title fontSize={\"4vmax\"}>\n                איפוס סיסמה\n            </Title>\n            <Paragraph fontSize={\"1.7vmax\"}>\n                אנא הזן את הסיסמה החדשה\n            </Paragraph>\n            <TextField \n                id=\"firstType\"\n                label={\"סיסמה חדשה\"}\n                sx={inputDesign}\n                autoComplete=\"off\"\n                variant=\"standard\"\n                color=\"success\"\n                type=\"password\"\n                inputRef={firstPasswordRef}\n                error={firstError}\n                helperText={firstError && \"יש למלא שדה זה\"}\n            />\n            <TextField \n                id=\"secondType\"\n                label={\"אימות סיסמה\"}\n                sx={inputDesign}\n                autoComplete=\"off\"\n                variant=\"standard\"\n                color=\"success\"\n                type={\"password\"}\n                error={secondError}\n                inputRef={secondPasswordRef}\n                helperText={secondError && \"יש למלא שדה זה\"}\n            />\n            <ButtonComponent \n                isLoading={isLoading}\n                title=\"אפס סיסמה\"\n                onClick={()=>{updatePassword()}}\n            />\n            <Snackbar anchorOrigin={{vertical: 'top', horizontal: 'center'}} open={open} autoHideDuration={4000} onClose={handleClose}>\n                <Alert onClose={handleClose} severity={'error'} sx={{ width: '100%' }}>\n                    {message}\n                 </Alert>\n            </Snackbar> \n        </OtpWrapper>\n    )\n}","import React, {useState,useEffect} from \"react\";\nimport {Card} from '../../components/globalStyles/styles';\nimport {CardWrapper, FormWrapper} from './styles'\nimport ValidateOtp from \"../../components/ValidateOtp/ValidateOtp\";\nimport CreateNewPassword from \"../../components/CreateNewPassword/CreateNewPassword\";\n\n\nexport default function ResetPassword(){\n    const [otpValidated, setOtpValidated] = useState(false);\n\n    useEffect(()=>{\n        if(sessionStorage.getItem('otp')){\n            setOtpValidated(true);\n        }\n    }, [])\n\n    return (\n    <>\n        <CardWrapper>\n            <Card height=\"55vmax\" width=\"95%\">\n                <FormWrapper marginTop={otpValidated ? \"10%\" : \"18%\"}>\n                    {!otpValidated ? \n                        <ValidateOtp setValidateOtp={setOtpValidated} /> :\n                        <CreateNewPassword />\n                    }\n                </FormWrapper>\n            </Card>\n        </CardWrapper>\n    </>)\n}","import styled from \"styled-components\";\n\nexport const BarWrapper = styled.div({\n    width: \"100%\",\n    height: \"10vmax\",\n    backgroundColor: \"#2e7d32\",\n    position: \"sticky\",\n})\n\nexport const UserLabelCenterWrapper = styled.div({\n    position: 'absolute',\n    margin: '0',\n    top: \"50%\",\n    right: '5px',\n    transform: \"translateY(-50%)\"\n})\n\nexport const LogoutCenterWrapper = styled.div({\n    position: 'absolute',\n    margin: '0',\n    top: \"50%\",\n    left: '30px',\n    transform: \"translateY(-50%)\"\n})\n\nexport const LogoWrapper = styled.div({\n    display: 'flex',\n    justifyContent: 'center'\n})\n\nexport const Image = styled.img({\n    height: '9vmax'\n})","import React from \"react\";\nimport {BarWrapper, Image,LogoWrapper, LogoutCenterWrapper} from './style'\nimport {Paragraph} from '../globalStyles/styles';\nimport { useMainContext } from \"../../context/appContext\";\nimport imageSrc from '../../media/logonew.png';\n\nexport default function Bar({}){\n    const {logout,user} = useMainContext();\n\n    return (\n        <BarWrapper>\n            {user && \n            <>\n                <LogoutCenterWrapper onClick={()=>{logout();}}>\n                    <Paragraph textColor=\"white\" fontSize=\"1.7vmax\" textAlign=\"center\">\n                        התנתק\n                    </Paragraph>\n                </LogoutCenterWrapper>\n            </>\n            }\n            <LogoWrapper>\n                <Image src={imageSrc} />\n            </LogoWrapper>\n        </BarWrapper>\n    )\n}","import styled from \"styled-components\";\n\nexport const PageWrapper = styled.div({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    marginTop: \"5%\"\n});\n\nexport const InputWrapper = styled.div({\n    marginRight: \"4%\"\n})\n\nexport const ButtonWrapper = styled.div({\n    display: 'flex',\n    justifyContent: 'center'\n})\n\nexport const FetchingWrapper = styled.div({\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    height: '100%'\n})","import axios from 'axios';\nimport Cookie from 'js-cookie'\n\nexport default class RoomNetwork{\n    static #baseUrl = '/rooms';\n\n    static createRoom(tourDescription){\n        return axios.post(`${this.#baseUrl}/createRoom`, \n            {tourDescription}, \n            {headers: {\"x-auth-token\": Cookie.get(\"auth-token\")}}).then(res=>{\n                if(res.data.status){\n                    return res.data.room;\n                }\n            }).catch(err=>{\n                throw false;\n            })\n    }\n\n    static deleteRoom(roomId){\n        return axios.delete(`${this.#baseUrl}/deleteRoom?roomId=${roomId}`, \n         {headers: {'x-auth-token': Cookie.get(\"auth-token\")}}).then(res=>{\n            if(res.data.status){\n                return true;\n            }\n        }).catch(err=>{\n            throw false;\n        })\n    }\n\n    static getRoomByCreator(){\n        return axios.get(`${this.#baseUrl}/getRoomByCreator`,\n        {headers: {\"x-auth-token\": Cookie.get('auth-token')}}).then(res=>{\n            if(res.data){\n                return res.data;\n            }\n        }).catch(err=>{\n            throw false;\n        })\n    }\n\n    static getRoomByRoomCode(roomCode){\n        return axios.get(`${this.#baseUrl}/getRoom?roomCode=${roomCode}`, \n        {headers: {'x-auth-token': Cookie.get('auth-token')}}).then(res=>{\n            if(res.data){\n                return res.data;\n            }\n        }).catch(err=>{\n            throw false;\n        })\n    }\n}","import React,{useEffect, useRef,useState} from 'react';\nimport {Card, Title, Paragraph} from '../../components/globalStyles/styles';\nimport {PageWrapper, InputWrapper, ButtonWrapper, FetchingWrapper} from './styles'\nimport { useMainContext } from \"../../context/appContext\";\nimport Cookie from 'js-cookie';\nimport { useNavigate } from 'react-router-dom';\nimport { TextField, CircularProgress } from '@mui/material';\nimport ButtonComponent from '../../components/Button/ButtonComponent';\nimport RoomNetwork from '../../network/roomNetwork';\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert from '@mui/material/Alert';\n\n\nconst Alert = React.forwardRef(function Alert(props, ref) {\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nexport default function CreateRoom(){\n    const [fetching, setFecthing] = useState(true);\n    const [isLoading, setIsLoading] = useState(false);\n    const [open, setOpen] = useState(false);\n    const {user,getUser, setRoom} = useMainContext();\n    const Navigate = useNavigate();\n    const descriptionRef = useRef();\n\n    useEffect(()=>{\n        if(!user && Cookie.get(\"auth-token\")){\n            getUser();\n        } else if(!Cookie.get(\"auth-token\")){\n            Navigate('/');\n        }else if(user){\n            setFecthing(false);\n        }\n    },[user])\n\n    useEffect(()=>{\n        RoomNetwork.getRoomByCreator().then(room=>{\n            if(room){\n                Navigate(`/room-admin/${room.roomCode}`);\n            }\n        })\n    }, [])\n\n    const handleClose = ()=>{\n        setOpen(false);\n    }\n\n    const createRoom = ()=>{\n        setIsLoading(true);\n        const tourDescription = descriptionRef.current.value;\n        RoomNetwork.createRoom(tourDescription).then(room=>{\n            if(room){\n                setRoom(room);\n                Navigate(`/room-admin/${room.roomCode}`)\n            }\n        }).catch(err=>{\n            setIsLoading(false);\n            setOpen(true);\n        })\n    }\n\n    const dayTime = ()=>{\n        const Now = new Date().getHours();\n        \n        switch(true){\n            case Now < 12:\n                return \"בוקר טוב\";\n            case Now > 12 && Now < 18:\n                return \"צהריים טובים\";\n            default:\n                return \"ערב טוב\";\n        }\n    }\n\n    return (\n        <PageWrapper>\n            <Card height=\"85vmax\" width=\"95%\">\n               {!fetching ? \n               <>  \n                   {user && <Title fontSize=\"3vmax\" >{`${dayTime()} ${user.fullname}!`}</Title>}\n                    <Paragraph marginRight=\"4%\" marginTop=\"1%\">\n                        לאן מטיילים היום?\n                    </Paragraph>\n                    <InputWrapper>\n                        <TextField \n                            id='trip-description'\n                            variant='filled'\n                            label=\"הכנס תיאור קצר על הטיול\"\n                            color='success'\n                            inputRef={descriptionRef}\n                            multiline\n                            maxRows={15}\n                            rows={15}\n                            sx={{width: \"96%\"}}\n                        />\n                    </InputWrapper>\n                    <ButtonWrapper>\n                        <ButtonComponent \n                            isLoading={isLoading} \n                            title='צור טיול'\n                            onClick={()=>{createRoom()}}\n                        />\n                    </ButtonWrapper>\n               </>\n               : <FetchingWrapper>\n                    <CircularProgress \n                        color='success'\n                        size={50}\n                    />\n                </FetchingWrapper>}\n            </Card>\n            <Snackbar anchorOrigin={{vertical: 'top', horizontal: 'center'}} open={open} autoHideDuration={4000} onClose={handleClose}>\n                <Alert onClose={handleClose} severity={'error'} sx={{ width: '100%' }}>\n                   אופס... קרתה אצלנו תקלה. נסו שנית מאוחר יותר\n                 </Alert>\n            </Snackbar> \n        </PageWrapper>\n    )\n}","import styled from \"styled-components\";\n\nexport const AdminRoomWrapper = styled.div({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    marginTop: \"5%\"\n})\n\nexport const MicButtonWrappers = styled.div({\n    display: 'flex',\n    width: \"100%\",\n    justifyContent: \"space-around\",\n    marginTop: \"20%\"\n})\n\nexport const EndButtonWrapper = styled.div({\n    display: 'flex',\n    justifyContent: \"center\",\n    marginTop: \"80%\"\n})","\n\nexport async function StartStream(){\n    return navigator.mediaDevices.getUserMedia({video: false, audio: true})\n    .then(stream =>{\n        return stream;       \n    }).catch(err => {\n        console.error(err);\n    })\n}","import React, {useEffect, useState} from \"react\";\nimport { useMainContext } from \"../../context/appContext\";\nimport Cookie from 'js-cookie';\nimport {Card, Title} from '../../components/globalStyles/styles';\nimport {AdminRoomWrapper, MicButtonWrappers, EndButtonWrapper} from './style';\nimport ButtonComponent from \"../../components/Button/ButtonComponent\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { StartStream } from \"../../utils/OpenStream\";\nimport { myPeer } from \"../../utils/peerConnection\";\nimport RoomNetwork from \"../../network/roomNetwork\";\nimport Swal from 'sweetalert2';\n\n\nexport default function AdminRoom(){\n    const [Stream , setStream] = useState(null);\n    const [userId, setUserId] = useState([]);\n    const {user, socket ,getUser} = useMainContext();\n    const Navigate = useNavigate();\n    const {roomId} = useParams();\n\n    useEffect(()=>{\n        if(!user && Cookie.get(\"auth-token\")){\n            getUser();\n        } else if(!Cookie.get(\"auth-token\")){\n            Navigate('/');\n        }\n    },[user]);\n\n    useEffect(()=>{\n        console.log('hello');\n        myPeer.on(\"open\", userId=>{\n            socket.emit('join-room', roomId, userId);\n            setUserId(userId)\n        });\n    }, [user])\n\n    useEffect(()=>{\n        if(Stream){\n            socket.on('user-connected', userId=>{\n                myPeer.call(userId,Stream);\n            })\n\n            myPeer.listAllPeers(peers=>{\n                if(peers.length > 1){\n                    peers = filterPeerArray(peers, userId);\n                    peers.map(peer=>{\n                        myPeer.call(peer,Stream);\n                    })\n                }\n            })\n        }\n    }, [Stream])\n\n    const filterPeerArray = (peers, userId)=>{\n        return peers.filter(peer => peer !== userId);\n    }\n\n    const openMic = ()=>{\n        if(!Stream){\n            StartStream().then(stream => {\n                setStream(stream);\n            })\n        }else{\n            Stream.getAudioTracks()[0].enabled = true;\n        }\n    }\n\n    const closeMic = ()=>{\n        Stream.getAudioTracks()[0].enabled = false;\n    }\n    \n    const endRoom = ()=>{\n        RoomNetwork.deleteRoom(roomId).then(res=>{\n            if(res){\n                socket.emit('roomEnded', roomId);\n                Stream && Stream.getTracks().forEach((track)=>{\n                    track.stop();\n                });\n                Navigate('/createRoom');\n            }\n        })\n    }\n\n    const confirmEndTour = ()=>{\n        Swal.fire({\n            title: \"סיום טיול\",\n            icon: \"question\",\n            text: \"האם אתם בטוחים שתרצו לסיים את הסיור?\",\n            confirmButtonColor: \"#2e7d32\",\n            cancelButtonColor: \"#d32f2f\",\n            cancelButtonText: \"סגור\",\n            confirmButtonText: \"סיים סיור\",\n            showCancelButton: true,\n            reverseButtons: true\n        }).then(result=>{\n            if(result.isConfirmed){\n                endRoom();\n            }\n        })\n    }\n\n    return (\n        <AdminRoomWrapper>\n            <Card width=\"95%\" height=\"85vmax\">\n                <Title fontSize={'3.5vmax'}>{`קוד החדר: ${roomId}`}</Title>\n                <MicButtonWrappers>\n                    <ButtonComponent \n                        title=\"הפעל מיקרופון\"\n                        onClick={()=>{openMic();}}\n                    />\n                    <ButtonComponent \n                        title=\"כבה מיקרופון\"\n                        color={\"error\"}\n                        onClick={()=>{closeMic();}}\n                    />\n                </MicButtonWrappers>\n                <EndButtonWrapper>\n                    <ButtonComponent \n                        title=\"סיים טיול\"\n                        onClick={()=>{confirmEndTour();}}\n                    />\n                </EndButtonWrapper>\n            </Card>\n        </AdminRoomWrapper>\n    )\n}","import styled from \"styled-components\";\n\nexport const RoomWrapper = styled.div({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    marginTop: \"5%\"\n})\n\nexport const MicButtonWrappers = styled.div({\n    display: 'flex',\n    width: \"100%\",\n    justifyContent: \"space-around\"\n})\n\nexport const StreamAudio = styled.audio({});\n\nexport const EndButtonWrapper = styled.div({\n    display: 'flex',\n    justifyContent: \"center\",\n    marginTop: \"40%\"\n})\n\nexport const DescriptionWrapper = styled.div({\n    overflowY: 'auto',\n    maxHeight: \"30%\",\n    margin: '0 auto',\n    width: \"95%\",\n    direction: \"ltr\"\n})","import React, {useEffect, useRef} from 'react';\nimport {Card, Title, Paragraph} from '../../components/globalStyles/styles';\nimport {RoomWrapper, MicButtonWrappers, StreamAudio, EndButtonWrapper,DescriptionWrapper} from './styles';\nimport { useParams } from 'react-router-dom';\nimport { useMainContext } from '../../context/appContext';\nimport RoomNetwork from '../../network/roomNetwork';\nimport ButtonComponent from '../../components/Button/ButtonComponent';\nimport { myPeer } from '../../utils/peerConnection';\nimport Swal from 'sweetalert2';\nimport { useNavigate } from 'react-router-dom';\n\nexport default function Room(){\n    const {roomId} = useParams();\n    const streamRef = useRef();\n    const Navigate = useNavigate();\n    const {room, socket, setRoom} = useMainContext();\n\n    useEffect(()=>{\n        if(!room){\n            RoomNetwork.getRoomByRoomCode(roomId).then(room=>{\n                setRoom(room);\n            })\n        }\n    },[room])\n\n    useEffect(()=>{\n        myPeer.on(\"open\", userId=>{\n            socket.emit('join-room', roomId, userId)\n        });\n\n        myPeer.on(\"call\", call => {\n            call.answer();\n            call.on('stream', stream => {\n                if(streamRef.current){\n                    streamRef.current.srcObject = stream;\n                }\n            })\n        })\n\n        socket.on('room-closed',()=>{\n            roomEnded();\n        })\n    }, [])\n\n    const roomEnded = ()=>{\n        Swal.fire({\n            title: \"הטיול נגמר\",\n            icon: \"error\",\n            text: \"המדריך סגר את חדר הטיול והוא הסתיים.\",\n            confirmButtonColor: \"#2e7d32\",\n            confirmButtonText: \"חזור לדף הבית\",\n        }).then(()=>{\n            socket.emit('userLeave', roomId);\n            Navigate('/')\n        })\n    }\n\n    const exitRoom = ()=>{\n        Swal.fire({\n            title: \"האם תראה לעזוב את הטיול?\",\n            icon: \"question\",\n            text: \"האם תרצו לעזוב את חדר הסיור?\",\n            cancelButtonText: \"סגור\",\n            confirmButtonText: \"צא\",\n            showCancelButton: true,\n            reverseButtons: true,\n            confirmButtonColor: \"#2e7d32\",\n            cancelButtonColor: \"#d32f2f\"\n        }).then((result)=>{\n            if(result.isConfirmed){\n                socket.emit('userLeave', roomId);\n                Navigate('/')\n            }\n        })\n    }\n\n    const playStream =()=>{\n        streamRef.current.play();\n    }\n\n    const stopStream = ()=>{\n        streamRef.current.pause();\n    }\n\n    return (\n        <RoomWrapper>\n            <Card width=\"95%\" height=\"85vmax\">\n                <Title fontSize={'3.5vmax'}>{`קוד החדר: ${roomId}`}</Title>\n                <Title fontSize={'2.5vmax'}>{'תיאור הטיול:'}</Title>\n                <DescriptionWrapper>\n                    <Paragraph direction=\"rtl\" textAlign=\"center\">\n                        {room && room.tourDescription}\n                    </Paragraph>\n                </DescriptionWrapper>\n                <MicButtonWrappers>\n                    <ButtonComponent \n                        title=\"האזן לשידור\"\n                        onClick={playStream}\n                    />\n                    <ButtonComponent \n                        title=\"הפסק להאזין\"\n                        color={\"error\"}\n                        onClick={stopStream}\n                    />\n                </MicButtonWrappers>\n                <EndButtonWrapper>\n                    <ButtonComponent \n                        title='יציאה'\n                        onClick={()=>{exitRoom()}}\n                    />\n                </EndButtonWrapper>\n            </Card>\n            <StreamAudio ref={streamRef} />\n        </RoomWrapper>\n    )\n}","import React, {useLayoutEffect,useEffect} from 'react';\nimport {Routes, Route, useNavigate, Navigate} from \"react-router-dom\";\nimport Listener from './pages/listenerSide/Listenter';\nimport {socket} from './utils/initiateSocket';\nimport isMobile from './utils/isMobile';\nimport NotSupported from './pages/NotSupported/NotSupported';\nimport Login from './pages/Login/Login';\nimport {CacheProvider} from '@emotion/react';\nimport createCache from '@emotion/cache';\nimport {prefixer} from 'stylis';\nimport rtlPlugin from 'stylis-plugin-rtl';\nimport {createTheme, ThemeProvider} from '@mui/material';\nimport ResetPassword from './pages/ResetPassword/ResetPassword';\nimport Bar from './components/Bar/Bar';\nimport CreateRoom from './pages/CreateRoom/CreateRoom';\nimport AdminRoom from './pages/adminRoom/adminRoom';\nimport Cookie from 'js-cookie';\nimport Room from './pages/UserRoom/Room';\n\nconst theme = createTheme({\n  direction: 'rtl'\n});\n\nconst cacheRtl = createCache({\n  key: \"muirtl\",\n  stylisPlugins: [prefixer, rtlPlugin]\n});\n\nfunction App() {\n  const navigation = useNavigate();\n\n  useEffect(()=>{\n    if(!isMobile()){\n      navigation('/notSupported');\n    }\n  },[])\n\n  useLayoutEffect(()=>{\n    document.body.setAttribute(\"dir\", 'rtl');\n  })\n\n  return (\n      <CacheProvider value={cacheRtl}>\n        <ThemeProvider theme={theme}>\n          <Bar />\n          <Routes>\n            <Route path='/listener' element={<Listener roomId={\"jA53\"} socket={socket} />} />\n            <Route path='/login' element={<Login />} />\n            <Route path='/notSupported' element={<NotSupported />} />\n            <Route path='/resetPassword' element={<ResetPassword />} />\n            <Route path='/createRoom' element={<CreateRoom />} />\n            <Route path='/room-admin/:roomId' element={<AdminRoom />} />\n            <Route path=\"/room/:roomId\" element={<Room />} />\n            <Route path='/' element={!Cookie.get('auth-token') ? <Navigate to=\"/login\" replace /> : <Navigate to=\"/createRoom\" replace />} />\n          </Routes>\n        </ThemeProvider>\n      </CacheProvider>\n  );\n}\n\nexport default App;\n","export default function isMobile(){\n    return !!navigator.userAgent.match(/iphone|android|blackberry/ig) || false;\n\n}","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport { ContextProvider } from './context/appContext';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './fonts/Assistant-VariableFont_wght.ttf';\nimport './index.css'\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <ContextProvider>\n      <Router>\n        <div className='font'>\n          <App />\n        </div>\n      </Router>\n    </ContextProvider>\n  </React.StrictMode>\n);\n\n"],"sourceRoot":""}